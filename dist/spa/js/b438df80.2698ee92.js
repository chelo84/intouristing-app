(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["b438df80"],{"2f78":function(e,t,a){},"4b3f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex flex-center"},[a("q-ajax-bar",{ref:"bar",attrs:{position:"bottom",color:"accent",size:"10px"}}),a("div",{staticClass:"shadow-3 q-pa-lg",staticStyle:{width:"440px","min-height":"500px"}},[a("div",{staticClass:"row flex flex-center login-img",staticStyle:{height:"180px","margin-bottom":"20px"}},[a("user-avatar",{attrs:{"user-id":e.username,size:"180px"}})],1),a("q-form",{staticClass:"q-gutter-sm",on:{submit:e.onSubmit}},[a("div",{staticClass:"row q-mb-md"},[a("q-input",{staticClass:"offset-1 col-10",attrs:{outlined:"",label:e.$t("username"),color:"dark-purple",rules:[function(t){return!!t||e.$t("requiredField")}],autocomplete:"username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("div",{staticClass:"row flex q-mb-md"},[a("q-input",{staticClass:"offset-1 col-10",attrs:{outlined:"",type:"password",label:e.$t("password"),color:"dark-purple",rules:[function(t){return!!t||e.$t("requiredField")}],autocomplete:"current-password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{staticClass:"row items-center"},[a("div",{staticClass:"col-4"},[a("router-link",{attrs:{to:"sign-up"}},[e._v(e._s(e.$t("signUp")))])],1),a("div",{staticClass:"col-4"},[a("q-select",{attrs:{dense:"","options-dense":"",options:e.locales,label:e.$t("language")},on:{input:e.localeChange},model:{value:e.locale,callback:function(t){e.locale=t},expression:"locale"}})],1),a("q-btn",{staticClass:"col-2 offset-2",attrs:{color:"dark-purple",label:e.$t("login"),loading:e.loginLoading,type:"submit"}})],1)])],1)],1)},o=[],r=a("808f"),l={name:"Login",components:{UserAvatar:r["a"]},data:function(){return{username:this.$q.localStorage.getItem("rememberUsername")||"",password:"",loginLoading:!1,locale:this.$q.localStorage.getItem("locale")||this.$i18n.locale,remember:!!this.$q.localStorage.getItem("rememberUsername")||!1}},computed:{locales:function(){return this.$i18n.availableLocales}},methods:{localeChange:function(){this.$i18n.locale=this.locale,this.$q.localStorage.set("locale",this.locale)},onSubmit:function(){var e=this;this.loginLoading=!0,this.$axios.post("login",{username:this.username,password:this.password}).then(function(t){e.$q.localStorage.set("accessToken",t.headers.authorization),e.$store.commit("auth/login"),e.$axios.defaults.headers.common.Authorization=e.$q.localStorage.getItem("accessToken"),e.remember?e.$q.localStorage.set("rememberUsername",e.username):e.$q.localStorage.remove("rememberUsername"),e.$router.push("/")}).catch(function(t){e.$q.notify({color:"negative",position:"top",message:t.response&&403===t.response.status?e.$t("wrongUsernameOrPassword"):e.$t("loginFailed"),icon:"report_problem"})}).then(function(){e.loginLoading=!1})}}},n=l,i=(a("719e"),a("2877")),c=Object(i["a"])(n,s,o,!1,null,"466d4cc6",null);t["default"]=c.exports},"719e":function(e,t,a){"use strict";var s=a("2f78"),o=a.n(s);o.a},"808f":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-avatar",{attrs:{size:e.size}},[a("q-img",{staticClass:"full-height",attrs:{src:e.avatarUrl+e.userId,"spinner-color":"accent"},scopedSlots:e._u([{key:"error",fn:function(){return[a("div",{staticClass:"absolute-full text-white flex justify-center",staticStyle:{padding:"0"}},[a("q-icon",{staticClass:"full-height",style:"font-size: "+e.size,attrs:{name:"account_circle"}})],1)]},proxy:!0}])})],1)},o=[],r=(a("c5f6"),{props:{userId:Number,size:{type:String,default:"60px"}},data:function(){return{avatarUrl:"".concat("https://intouristing-api.herokuapp.com/","users/avatar/")}}}),l=r,n=a("2877"),i=Object(n["a"])(l,s,o,!1,null,null,null);t["a"]=i.exports}}]);