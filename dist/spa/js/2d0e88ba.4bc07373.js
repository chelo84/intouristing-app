(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0e88ba"],{"8a72":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"flex flex-center"},[s("q-ajax-bar",{ref:"bar",attrs:{position:"bottom",color:"accent",size:"10px"}}),s("div",{staticClass:"shadow-13 q-pa-lg",staticStyle:{width:"700px"}},[s("div",{staticClass:"row flex q-mb-md"},[s("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/login"}},[s("q-icon",{attrs:{name:"arrow_back"}}),e._v("\n        "+e._s(e.$t("loginPage"))+"\n      ")],1)],1),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"offset-1 col-10 row"},[s("q-input",{staticClass:"col-sm-6 q-pr-sm-sm col-12",attrs:{outlined:"",type:"text",label:e.$t("name"),color:"dark-purple",rules:[function(t){return!!t||e.$t("requiredField")}],"lazy-rules":""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),s("q-input",{staticClass:"col-sm-6 q-pl-sm-sm col-12",attrs:{outlined:"",type:"text",label:e.$t("lastName"),color:"dark-purple",rules:[function(t){return!!t||e.$t("requiredField")}],"lazy-rules":""},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}})],1)]),s("q-form",{staticClass:"q-gutter-sm",on:{submit:e.onSubmit}},[s("div",{staticClass:"row flex flex-center q-mb-md"},[s("q-input",{staticClass:"col-10",attrs:{outlined:"",label:e.$t("username"),color:"dark-purple",rules:[function(t){return!!t||e.$t("requiredField")},e.verifyUsername],"lazy-rules":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"text-bold",class:{hidden:0==e.user.username.length||!e.validUsername},attrs:{name:"done",color:"green"}})]},proxy:!0}]),model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),s("div",{staticClass:"row flex flex-center q-mb-md"},[s("q-input",{staticClass:"col-10",attrs:{outlined:"",type:"email",label:e.$t("email"),color:"dark-purple",rules:[function(t){return!!t||e.$t("requiredField")},function(t){return t.includes("@")&&t.indexOf("@")!=t.length-1||e.$t("malformedEmail")},e.verifyEmail],"lazy-rules":""},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"text-bold",class:{hidden:0==e.user.email.length||!e.validEmail},attrs:{name:"done",color:"green"}})]},proxy:!0}]),model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"offset-1 col-10 row"},[s("q-input",{staticClass:"col-sm-6 q-pr-sm-sm col-12",attrs:{outlined:"",type:"password",label:e.$t("password"),color:"dark-purple",rules:[function(t){return!!t||e.$t("requiredField")},function(t){return t.length>=6||e.$t("passwordMinLength")}],autocomplete:"new-password","lazy-rules":""},on:{blur:e.verifyPassword},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),s("q-input",{ref:"repeatPassword",staticClass:"col-sm-6 q-pl-sm-sm col-12",attrs:{outlined:"",type:"password",label:e.$t("repeatPassword"),color:"dark-purple",rules:[function(t){return t==e.user.password||e.$t("confirmationMatchPassword")},function(t){return!!t||e.$t("requiredField")}],"lazy-rules":""},model:{value:e.repeatPassword,callback:function(t){e.repeatPassword=t},expression:"repeatPassword"}})],1)]),s("div",{staticClass:"row flex"},[s("q-btn",{staticClass:"offset-1 col-10 q-pa-sm",attrs:{color:"dark-purple",label:e.$t("register"),loading:e.registerLoading,type:"submit"}})],1)])],1)],1)},r=[],n=(s("551c"),s("06db"),{name:"SignUp",data:function(){return{registerLoading:!1,user:{name:"",lastName:"",username:"",password:"",email:""},repeatPassword:"",validUsername:!1,validEmail:!1}},methods:{onSubmit:function(){var e=this;this.registerLoading=!0,this.user.userPosition={latitude:0,longitude:0},this.$axios.post("users",this.user).then(function(){e.$router.push("/login")}).catch(function(t){console.error(t),e.$q.notify({color:"negative",position:"top",message:"Whoops! Something went wrong",icon:"report_problem"})}).then(function(){e.registerLoading=!1})},verifyPassword:function(){this.repeatPassword.length>0&&this.$refs.repeatPassword.validate()},verifyUsername:function(e){var t=this;return new Promise(function(s){t.$axios.get("verifications/username/".concat(e)).then(function(e){e.data?(t.validUsername=!1,s(t.$t("usernameAlreadyBeingUsed"))):(t.validUsername=!0,s(!0))})})},verifyEmail:function(e){var t=this;return new Promise(function(s){t.$axios.get("verifications/email/".concat(e)).then(function(e){e.data?(t.validEmail=!1,s(t.$t("emailAlreadyBeingUsed"))):(t.validEmail=!0,s(!0))})})}}}),l=n,i=s("2877"),o=Object(i["a"])(l,a,r,!1,null,null,null);t["default"]=o.exports}}]);